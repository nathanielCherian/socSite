{% extends "base.html" %}
{% load static %}


{% block content %}

<link rel="stylesheet" href="{% static 'detail.css' %}">

<!--<h1>I hope this works!</h1>-->

{% for post in posts%}

<article class="media content-section">

    <img class="rounded-circle article-img" src="">

      <div class="media-body">
        <div class="article-metadata">
            <div class="row">
                <a class="col-6" href="">{{ post.author }}</a>
                <small class="text-muted col-6" style="text-align: right;">{{ post.date_posted }}</small>
            </div>
        </div>

        <h2><a class="article-title" href="{% url 'post_detail' post.author post.slug %}">{{ post.title }}</a></h2>
        <p class="article-content">{{ post.summary }}</p>

            <div class="article-fdata">

                <script> 
                var txt = document.createElement("textarea");
                txt.innerHTML = '{{ post.tags }}';
                tags = JSON.parse(txt.value)
                txt.remove()

                for(tag in tags['tags']){
                    console.log(tags['tags'][tag])
                    $('.article-fdata').last().append(`

                    <div class="float-right">
                        <a href="#">
                            <button class="tag-elmt" style="background-color: rgba(0, 255, 255, 0.5);">` + tags['tags'][tag] +  `</button>
                        </a>
                    </div>
                    
                    `)
                }

                </script>
                

            </div>

      </div>
    </article>

    {% endfor %}

{% endblock content %}